generator client {
  provider = "prisma-client"
  output   = "./generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model characters {
  character_id        Int         @id @default(autoincrement())
  character           String      @unique @db.VarChar(50)
  identity            String?     @db.VarChar(50)
  first_appearance_id Int
  abilities           String?     @db.VarChar(255)
  personality         String?     @db.VarChar(100)
  productions         productions @relation(fields: [first_appearance_id], references: [production_id], onDelete: Cascade, onUpdate: NoAction, map: "fk_characters_first_appearance")
}

model movies {
  movie_id      Int         @id @default(autoincrement())
  production_id Int
  director      String?     @db.VarChar(50)
  synopsis      String?
  productions   productions @relation(fields: [production_id], references: [production_id], onDelete: Cascade, onUpdate: NoAction, map: "fk_movies_production")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model productions {
  production_id Int          @id @default(autoincrement())
  title         String       @unique @db.VarChar(50)
  type          String       @db.VarChar(10)
  year          Int
  dcu_order     Int
  characters    characters[]
  movies        movies[]
  series        series[]
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model series {
  series_id     Int         @id @default(autoincrement())
  production_id Int
  director      String?     @db.VarChar(50)
  synopsis      String?
  status        String      @db.VarChar(20)
  productions   productions @relation(fields: [production_id], references: [production_id], onDelete: Cascade, onUpdate: NoAction, map: "fk_series_production")
}
